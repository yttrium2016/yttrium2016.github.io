<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Redis基本指令操作"><meta name="keywords" content="分布式,linux,redis"><meta name="author" content="杨振宇"><meta name="copyright" content="杨振宇"><title>Redis基本指令操作 | 杨振宇'Blog</title><link rel="shortcut icon" href="/my-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/gh/upupming/gitalk@36368e5dffd049e956cdbbd751ff96c28d8255cf/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '3.8.0'
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis基本指令操作"><span class="toc-number">1.</span> <span class="toc-text">Redis基本指令操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#key-操作"><span class="toc-number">1.1.</span> <span class="toc-text">key 操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#del"><span class="toc-number">1.1.1.</span> <span class="toc-text">del</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rename"><span class="toc-number">1.1.2.</span> <span class="toc-text">rename</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#renamenx"><span class="toc-number">1.1.3.</span> <span class="toc-text">renamenx</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#move"><span class="toc-number">1.1.4.</span> <span class="toc-text">move</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#keys-pattern"><span class="toc-number">1.1.5.</span> <span class="toc-text">keys pattern</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#randomkey"><span class="toc-number">1.1.6.</span> <span class="toc-text">randomkey</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exists"><span class="toc-number">1.1.7.</span> <span class="toc-text">exists</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#type"><span class="toc-number">1.1.8.</span> <span class="toc-text">type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ttl"><span class="toc-number">1.1.9.</span> <span class="toc-text">ttl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#expire"><span class="toc-number">1.1.10.</span> <span class="toc-text">expire</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#persist"><span class="toc-number">1.1.11.</span> <span class="toc-text">persist</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string"><span class="toc-number">1.2.</span> <span class="toc-text">string</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set"><span class="toc-number">1.2.1.</span> <span class="toc-text">set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mset"><span class="toc-number">1.2.2.</span> <span class="toc-text">mset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get"><span class="toc-number">1.2.3.</span> <span class="toc-text">get</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mget"><span class="toc-number">1.2.4.</span> <span class="toc-text">mget</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setrange"><span class="toc-number">1.2.5.</span> <span class="toc-text">setrange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#append"><span class="toc-number">1.2.6.</span> <span class="toc-text">append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getrange"><span class="toc-number">1.2.7.</span> <span class="toc-text">getrange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getset"><span class="toc-number">1.2.8.</span> <span class="toc-text">getset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#incr"><span class="toc-number">1.2.9.</span> <span class="toc-text">incr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#incrby"><span class="toc-number">1.2.10.</span> <span class="toc-text">incrby</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#incrbyfloat"><span class="toc-number">1.2.11.</span> <span class="toc-text">incrbyfloat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#decr"><span class="toc-number">1.2.12.</span> <span class="toc-text">decr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#decrby"><span class="toc-number">1.2.13.</span> <span class="toc-text">decrby</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getbit"><span class="toc-number">1.2.14.</span> <span class="toc-text">getbit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setbit"><span class="toc-number">1.2.15.</span> <span class="toc-text">setbit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bitop"><span class="toc-number">1.2.16.</span> <span class="toc-text">bitop</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list"><span class="toc-number">1.3.</span> <span class="toc-text">list</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#lpush"><span class="toc-number">1.3.1.</span> <span class="toc-text">lpush</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lpop"><span class="toc-number">1.3.2.</span> <span class="toc-text">lpop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rpush"><span class="toc-number">1.3.3.</span> <span class="toc-text">rpush</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rpop"><span class="toc-number">1.3.4.</span> <span class="toc-text">rpop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lrange"><span class="toc-number">1.3.5.</span> <span class="toc-text">lrange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lrem"><span class="toc-number">1.3.6.</span> <span class="toc-text">lrem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ltrim"><span class="toc-number">1.3.7.</span> <span class="toc-text">ltrim</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lindex"><span class="toc-number">1.3.8.</span> <span class="toc-text">lindex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#llen"><span class="toc-number">1.3.9.</span> <span class="toc-text">llen</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linsert"><span class="toc-number">1.3.10.</span> <span class="toc-text">linsert</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rpoplpush"><span class="toc-number">1.3.11.</span> <span class="toc-text">rpoplpush</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#blpop"><span class="toc-number">1.3.12.</span> <span class="toc-text">blpop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#brpop"><span class="toc-number">1.3.13.</span> <span class="toc-text">brpop</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set-1"><span class="toc-number">1.4.</span> <span class="toc-text">set</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sadd"><span class="toc-number">1.4.1.</span> <span class="toc-text">sadd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#srem"><span class="toc-number">1.4.2.</span> <span class="toc-text">srem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#spop"><span class="toc-number">1.4.3.</span> <span class="toc-text">spop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#srandmember"><span class="toc-number">1.4.4.</span> <span class="toc-text">srandmember</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sismember"><span class="toc-number">1.4.5.</span> <span class="toc-text">sismember</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#smembers"><span class="toc-number">1.4.6.</span> <span class="toc-text">smembers</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#scard"><span class="toc-number">1.4.7.</span> <span class="toc-text">scard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#smove"><span class="toc-number">1.4.8.</span> <span class="toc-text">smove</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sinter"><span class="toc-number">1.4.9.</span> <span class="toc-text">sinter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sinterstore"><span class="toc-number">1.4.10.</span> <span class="toc-text">sinterstore</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#suion"><span class="toc-number">1.4.11.</span> <span class="toc-text">suion</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sdiff"><span class="toc-number">1.4.12.</span> <span class="toc-text">sdiff</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zset"><span class="toc-number">1.5.</span> <span class="toc-text">zset</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#zadd"><span class="toc-number">1.5.1.</span> <span class="toc-text">zadd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zrem"><span class="toc-number">1.5.2.</span> <span class="toc-text">zrem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zremrangebyscore"><span class="toc-number">1.5.3.</span> <span class="toc-text">zremrangebyscore</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zremrangebyrank"><span class="toc-number">1.5.4.</span> <span class="toc-text">zremrangebyrank</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zrank"><span class="toc-number">1.5.5.</span> <span class="toc-text">zrank</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zrevrank"><span class="toc-number">1.5.6.</span> <span class="toc-text">zrevrank</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zrange"><span class="toc-number">1.5.7.</span> <span class="toc-text">zrange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zrevrange"><span class="toc-number">1.5.8.</span> <span class="toc-text">zrevrange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zrangebyscore"><span class="toc-number">1.5.9.</span> <span class="toc-text">zrangebyscore</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zcard"><span class="toc-number">1.5.10.</span> <span class="toc-text">zcard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zcount"><span class="toc-number">1.5.11.</span> <span class="toc-text">zcount</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zinterstore"><span class="toc-number">1.5.12.</span> <span class="toc-text">zinterstore</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hash"><span class="toc-number">1.6.</span> <span class="toc-text">hash</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hset"><span class="toc-number">1.6.1.</span> <span class="toc-text">hset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hmset"><span class="toc-number">1.6.2.</span> <span class="toc-text">hmset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hget"><span class="toc-number">1.6.3.</span> <span class="toc-text">hget</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hmget"><span class="toc-number">1.6.4.</span> <span class="toc-text">hmget</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hgetall"><span class="toc-number">1.6.5.</span> <span class="toc-text">hgetall</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hdel"><span class="toc-number">1.6.6.</span> <span class="toc-text">hdel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hlen"><span class="toc-number">1.6.7.</span> <span class="toc-text">hlen</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hexists"><span class="toc-number">1.6.8.</span> <span class="toc-text">hexists</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hinrby"><span class="toc-number">1.6.9.</span> <span class="toc-text">hinrby</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hinrby-1"><span class="toc-number">1.6.10.</span> <span class="toc-text">hinrby</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hkeys"><span class="toc-number">1.6.11.</span> <span class="toc-text">hkeys</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#kvals"><span class="toc-number">1.6.12.</span> <span class="toc-text">kvals</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他重要"><span class="toc-number">1.7.</span> <span class="toc-text">其他重要</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rpoplpush-场景-task-bak-双链表完成安全队列"><span class="toc-number">1.7.1.</span> <span class="toc-text">rpoplpush 场景: task + bak 双链表完成安全队列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis中的事务"><span class="toc-number">1.7.2.</span> <span class="toc-text">Redis中的事务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis消息订阅"><span class="toc-number">1.7.3.</span> <span class="toc-text">Redis消息订阅</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis服务器端命令"><span class="toc-number">1.7.4.</span> <span class="toc-text">Redis服务器端命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#time"><span class="toc-number">1.7.4.1.</span> <span class="toc-text">time</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dbsize"><span class="toc-number">1.7.4.2.</span> <span class="toc-text">dbsize</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#BGREWRITEAOF"><span class="toc-number">1.7.4.3.</span> <span class="toc-text">BGREWRITEAOF</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#BGSAVE"><span class="toc-number">1.7.4.4.</span> <span class="toc-text">BGSAVE</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#SAVE"><span class="toc-number">1.7.4.5.</span> <span class="toc-text">SAVE</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LASTSAVE"><span class="toc-number">1.7.4.6.</span> <span class="toc-text">LASTSAVE</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Slaveof-master-Host-port"><span class="toc-number">1.7.4.7.</span> <span class="toc-text">Slaveof master-Host port</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Flushall"><span class="toc-number">1.7.4.8.</span> <span class="toc-text">Flushall</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Flushdb"><span class="toc-number">1.7.4.9.</span> <span class="toc-text">Flushdb</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Showdown"><span class="toc-number">1.7.4.10.</span> <span class="toc-text">Showdown</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://raw.githubusercontent.com/yttrium2016/img/master/20190222151701.png"></div><div class="author-info__name text-center">杨振宇</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">23</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">30</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">7</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">杨振宇'Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">博客</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">Redis基本指令操作</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-11-11</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/后台/">后台</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">3.9k</span><span class="post-meta__separator">|</span><span>阅读时长: 17 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="Redis基本指令操作"><a href="#Redis基本指令操作" class="headerlink" title="Redis基本指令操作"></a>Redis基本指令操作</h2><blockquote>
<p>来源于网上 自己编写 做为记录 方便自己查看</p>
</blockquote>
<h3 id="key-操作"><a href="#key-操作" class="headerlink" title="key 操作"></a>key 操作</h3><h4 id="del"><a href="#del" class="headerlink" title="del"></a>del</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">del key1 key2 ... Keyn</span><br><span class="line">作用: 删除1个或多个键</span><br><span class="line">返回值: 不存在的key忽略掉,返回真正删除的key的数量</span><br></pre></td></tr></table></figure>
<h4 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rename key newkey</span><br><span class="line">作用: 给key赋一个新的key名</span><br><span class="line">注:如果newkey已存在,则newkey的原值被覆盖</span><br></pre></td></tr></table></figure>
<h4 id="renamenx"><a href="#renamenx" class="headerlink" title="renamenx"></a>renamenx</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">renamenx key newkey  </span><br><span class="line">作用: 把key改名为newkey</span><br><span class="line">返回: 发生修改返回1,未发生修改返回0</span><br><span class="line">注: nx--&gt; not exists, 即, newkey不存在时,作改名动作</span><br></pre></td></tr></table></figure>
<h4 id="move"><a href="#move" class="headerlink" title="move"></a>move</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">move key db </span><br><span class="line">作用: 移动key到库db</span><br><span class="line">例子:</span><br><span class="line">redis 127.0.0.1:6379[1]&gt; select 2</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379[2]&gt; keys *</span><br><span class="line">(empty list or set)</span><br><span class="line">redis 127.0.0.1:6379[2]&gt; select 0</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; keys *</span><br><span class="line">1) &quot;name&quot;</span><br><span class="line">2) &quot;cc&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line">4) &quot;b&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; move cc 2</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; select 2</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379[2]&gt; keys *</span><br><span class="line">1) &quot;cc&quot;</span><br><span class="line">redis 127.0.0.1:6379[2]&gt; get cc</span><br><span class="line">&quot;3&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>(注意: 一个redis进程,打开了不止一个数据库, 默认打开16个数据库,从0到15编号,<br>如果想打开更多数据库,可以从配置文件修改)</p>
</blockquote>
<h4 id="keys-pattern"><a href="#keys-pattern" class="headerlink" title="keys pattern"></a>keys pattern</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">查询相应的key</span><br><span class="line">在redis里,允许模糊查询key</span><br><span class="line">有3个通配符 *, ? ,[]</span><br><span class="line">*: 通配任意多个字符</span><br><span class="line">?: 通配单个字符</span><br><span class="line">[]: 通配括号内的某1个字符</span><br><span class="line">例子:</span><br><span class="line">redis 127.0.0.1:6379&gt; flushdb</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or set)</span><br><span class="line">redis 127.0.0.1:6379&gt; mset one 1 two 2 three 3 four 4</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; keys o*</span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; key *o</span><br><span class="line">(error) ERR unknown command &apos;key&apos;</span><br><span class="line">redis 127.0.0.1:6379&gt; keys *o</span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; keys ???</span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; keys on?</span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; set ons yes</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; keys on[e]</span><br><span class="line">1)&quot;one&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; keys [o]??</span><br><span class="line">1) &quot;one&quot;</span><br></pre></td></tr></table></figure>
<h4 id="randomkey"><a href="#randomkey" class="headerlink" title="randomkey"></a>randomkey</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">随机返回一个key</span><br><span class="line">redis 127.0.0.1:6379&gt; randomkey</span><br><span class="line">&quot;one&quot;</span><br></pre></td></tr></table></figure>
<h4 id="exists"><a href="#exists" class="headerlink" title="exists"></a>exists</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">exists key</span><br><span class="line">判断key是否存在,返回1/0</span><br><span class="line">redis 127.0.0.1:6379&gt; exists one</span><br><span class="line">(integer) 1</span><br></pre></td></tr></table></figure>
<h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">type key</span><br><span class="line">返回key存储的值的类型</span><br><span class="line">有string,link,set,order set, hash</span><br></pre></td></tr></table></figure>
<h4 id="ttl"><a href="#ttl" class="headerlink" title="ttl"></a>ttl</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ttl key</span><br><span class="line">作用: 查询key的生命周期</span><br><span class="line">返回: 秒数</span><br><span class="line"></span><br><span class="line">注:对于不存在的key或已过期的key/不过期的key,都返回-1</span><br><span class="line">Redis2.8以后的中,对于不存在的key,返回-2</span><br></pre></td></tr></table></figure>
<h4 id="expire"><a href="#expire" class="headerlink" title="expire"></a>expire</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">expire key 整型值</span><br><span class="line">作用: 设置key的生命周期,以秒为单位</span><br></pre></td></tr></table></figure>
<blockquote>
<p>同理: pexpire key 秒, 设置生命周期 ,pttl  key, 以毫秒返回生命周期</p>
</blockquote>
<h4 id="persist"><a href="#persist" class="headerlink" title="persist"></a>persist</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">persist key</span><br><span class="line">作用: 把指定key置为永久有效</span><br></pre></td></tr></table></figure>
<h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>字符串</p>
<h4 id="set"><a href="#set" class="headerlink" title="set"></a>set</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set key value [ex 秒数] / [px 毫秒数]  [nx] /[xx]</span><br><span class="line"></span><br><span class="line">如: set a 1 ex 10 , 10秒有效 a=1</span><br><span class="line">Set a 1 px 9000  , 9秒有效 a=1</span><br><span class="line">注: 如果ex,px同时写,以后面的有效期为准</span><br><span class="line">如 set a 1 ex 100 px 9000, 实际有效期是9000毫秒 a=1</span><br><span class="line"></span><br><span class="line">nx: 表示key不存在时,执行操作</span><br><span class="line">xx: 表示key存在时,执行操作</span><br></pre></td></tr></table></figure>
<h4 id="mset"><a href="#mset" class="headerlink" title="mset"></a>mset</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mset  multi set , 一次性设置多个键值</span><br><span class="line">例: mset key1 v1 key2 v2 ....</span><br></pre></td></tr></table></figure>
<h4 id="get"><a href="#get" class="headerlink" title="get"></a>get</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">get key </span><br><span class="line">作用:获取key的值</span><br></pre></td></tr></table></figure>
<h4 id="mget"><a href="#mget" class="headerlink" title="mget"></a>mget</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mget key1 key2 ..keyn</span><br><span class="line">作用:获取多个key的值</span><br></pre></td></tr></table></figure>
<h4 id="setrange"><a href="#setrange" class="headerlink" title="setrange"></a>setrange</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setrange key offset value</span><br><span class="line">作用:把字符串的offset偏移字节,改成value</span><br><span class="line">redis 127.0.0.1:6379&gt; set greet hello</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; setrange greet 2 x</span><br><span class="line">(integer) 5</span><br><span class="line">redis 127.0.0.1:6379&gt; get greet</span><br><span class="line">&quot;hexlo&quot;</span><br><span class="line"></span><br><span class="line">注意: 如果偏移量&gt;字符长度, 该字符自动补0x00</span><br><span class="line">127.0.0.1:6379&gt; set k1 12345</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; setrange k1 8 6</span><br><span class="line">(integer) 9</span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line">&quot;12345\x00\x00\x006&quot;</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure>
<h4 id="append"><a href="#append" class="headerlink" title="append"></a>append</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">append key value</span><br><span class="line">作用: 把value追加到key的原值上</span><br></pre></td></tr></table></figure>
<h4 id="getrange"><a href="#getrange" class="headerlink" title="getrange"></a>getrange</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getrange key start stop</span><br><span class="line">作用: 是获取字符串中 [start, stop]范围的值</span><br><span class="line">注意: 对于字符串的下标,左数从0开始,右数从-1开始</span><br><span class="line">redis 127.0.0.1:6379&gt; set title &apos;chinese&apos;</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; getrange title 0 3</span><br><span class="line">&quot;chin&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; getrange title 1 -2</span><br><span class="line">&quot;hines&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: </p>
<p>1: start&gt;=length, 则返回空字符串</p>
<p>2: stop&gt;=length,则截取至字符结尾</p>
<p>3: 如果start 所处位置在stop右边, 返回空字符串</p>
</blockquote>
<h4 id="getset"><a href="#getset" class="headerlink" title="getset"></a>getset</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getset key newvalue</span><br><span class="line">作用: 获取并返回旧值,设置新值</span><br><span class="line">redis 127.0.0.1:6379&gt; set cnt 0</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; getset cnt 1</span><br><span class="line">&quot;0&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; getset cnt 2</span><br><span class="line">&quot;1&quot;</span><br></pre></td></tr></table></figure>
<h4 id="incr"><a href="#incr" class="headerlink" title="incr"></a>incr</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">incr key</span><br><span class="line">作用: 指定的key的值加1,并返回加1后的值</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:<br>1:不存在的key当成0,再incr操作<br>2: 范围为64有符号</p>
</blockquote>
<h4 id="incrby"><a href="#incrby" class="headerlink" title="incrby"></a>incrby</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">incrby key number</span><br><span class="line">作用: 指定的key的值加number,并返回加number后的值</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; set v 2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; incrby v 100</span><br><span class="line">(integer) 102</span><br></pre></td></tr></table></figure>
<h4 id="incrbyfloat"><a href="#incrbyfloat" class="headerlink" title="incrbyfloat"></a>incrbyfloat</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">incrbyfloat key floatnumber</span><br><span class="line">作用: 指定的key的值加floatnumber,并返回加floatnumber后的值</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; incrbyfloat v 3.5</span><br><span class="line">&quot;105.5&quot;</span><br></pre></td></tr></table></figure>
<h4 id="decr"><a href="#decr" class="headerlink" title="decr"></a>decr</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">decr key</span><br><span class="line">作用: 指定的key的值减1,并返回减1后的值</span><br></pre></td></tr></table></figure>
<h4 id="decrby"><a href="#decrby" class="headerlink" title="decrby"></a>decrby</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">decrby key number</span><br><span class="line">作用: 指定的key的值减number,并返回减number后的值</span><br></pre></td></tr></table></figure>
<h4 id="getbit"><a href="#getbit" class="headerlink" title="getbit"></a>getbit</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getbit key offset</span><br><span class="line">作用:获取值的二进制表示,对应位上的值(从左,从0编号)</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; set char A</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; getbit char 1</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; getbit char 2</span><br><span class="line">(integer) 0</span><br><span class="line">redis 127.0.0.1:6379&gt; getbit char 7</span><br><span class="line">(integer) 1</span><br></pre></td></tr></table></figure>
<h4 id="setbit"><a href="#setbit" class="headerlink" title="setbit"></a>setbit</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setbit  key offset value</span><br><span class="line">设置offset对应二进制位上的值</span><br><span class="line">返回: 该位上的旧值</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:<br>1:如果offset过大,则会在中间填充0,<br>2: offset最大大到多少<br>3:offset最大2^32-1,可推出最大的的字符串为512M</p>
</blockquote>
<h4 id="bitop"><a href="#bitop" class="headerlink" title="bitop"></a>bitop</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bitop operation destkey key1 [key2 ...]</span><br><span class="line">对key1,key2..keyN作operation,并将结果保存到 destkey 上。</span><br><span class="line">operation 可以是 AND 、 OR 、 NOT 、 XOR</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; setbit lower 7 0</span><br><span class="line">(integer) 0</span><br><span class="line">redis 127.0.0.1:6379&gt; setbit lower 2 1</span><br><span class="line">(integer) 0</span><br><span class="line">redis 127.0.0.1:6379&gt; get lower</span><br><span class="line">&quot; &quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; set char Q</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; get char</span><br><span class="line">&quot;Q&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; bitop or char char lower</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; get char</span><br><span class="line">&quot;q&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: 对于NOT操作, key不能多个</p>
</blockquote>
<h3 id="list"><a href="#list" class="headerlink" title="list"></a>list</h3><h4 id="lpush"><a href="#lpush" class="headerlink" title="lpush"></a>lpush</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lpush key value </span><br><span class="line">作用: 把值插入到链接头部</span><br></pre></td></tr></table></figure>
<h4 id="lpop"><a href="#lpop" class="headerlink" title="lpop"></a>lpop</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rpop key</span><br><span class="line">作用: 返回并删除链表头元素</span><br></pre></td></tr></table></figure>
<h4 id="rpush"><a href="#rpush" class="headerlink" title="rpush"></a>rpush</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lpush key value </span><br><span class="line">作用: 把值插入到链接尾部</span><br></pre></td></tr></table></figure>
<h4 id="rpop"><a href="#rpop" class="headerlink" title="rpop"></a>rpop</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rpop key</span><br><span class="line">作用: 返回并删除链表尾元素</span><br></pre></td></tr></table></figure>
<h4 id="lrange"><a href="#lrange" class="headerlink" title="lrange"></a>lrange</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lrange key start stop</span><br><span class="line">作用: 返回链表中[start ,stop]中的元素</span><br><span class="line">规律: 左数从0开始,右数从-1开始</span><br></pre></td></tr></table></figure>
<h4 id="lrem"><a href="#lrem" class="headerlink" title="lrem"></a>lrem</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lrem key count value</span><br><span class="line">作用: 从key链表中删除 value值</span><br><span class="line">注: 删除count的绝对值个value后结束</span><br><span class="line">Count&gt;0 从表头删除</span><br><span class="line">Count&lt;0 从表尾删除</span><br></pre></td></tr></table></figure>
<h4 id="ltrim"><a href="#ltrim" class="headerlink" title="ltrim"></a>ltrim</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ltrim key start stop</span><br><span class="line">作用: 剪切key对应的链接,切[start,stop]一段,并把该段重新赋给key</span><br></pre></td></tr></table></figure>
<h4 id="lindex"><a href="#lindex" class="headerlink" title="lindex"></a>lindex</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lindex key index</span><br><span class="line">作用: 返回index索引上的值,</span><br><span class="line">如  lindex key 2</span><br></pre></td></tr></table></figure>
<h4 id="llen"><a href="#llen" class="headerlink" title="llen"></a>llen</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">llen key</span><br><span class="line">作用:计算链接表的元素个数</span><br><span class="line">redis 127.0.0.1:6379&gt; llen v</span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure>
<h4 id="linsert"><a href="#linsert" class="headerlink" title="linsert"></a>linsert</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">linsert  key after|before search value</span><br><span class="line">作用: 在key链表中寻找’search’,并在search值之前|之后,.插入value</span><br><span class="line">注: 一旦找到一个search后,命令就结束了,因此不会插入多个value</span><br></pre></td></tr></table></figure>
<h4 id="rpoplpush"><a href="#rpoplpush" class="headerlink" title="rpoplpush"></a>rpoplpush</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rpoplpush source dest</span><br><span class="line">作用: 把source的尾部拿出,放在dest的头部,</span><br><span class="line">并返回 该单元值</span><br></pre></td></tr></table></figure>
<h4 id="blpop"><a href="#blpop" class="headerlink" title="blpop"></a>blpop</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">blpop key timeout</span><br><span class="line">作用:等待弹出key的头元素, </span><br><span class="line">Timeout为等待超时时间</span><br><span class="line">如果timeout为0,则一直等待</span><br></pre></td></tr></table></figure>
<h4 id="brpop"><a href="#brpop" class="headerlink" title="brpop"></a>brpop</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brpop key timeout</span><br><span class="line">作用:等待弹出key的头元素, </span><br><span class="line">Timeout为等待超时时间</span><br><span class="line">如果timeout为0,则一直等待</span><br></pre></td></tr></table></figure>
<blockquote>
<p>长轮询Ajax,在线聊天时,能够用到 </p>
</blockquote>
<h3 id="set-1"><a href="#set-1" class="headerlink" title="set"></a>set</h3><p>集合的性质: 唯一性,无序性,确定性</p>
<p>注: 在string和list的命令中,可以通过range 来访问string中的某几个字符或某几个元素</p>
<p>但,因为集合的无序性,无法通过下标或范围来访问部分元素.</p>
<p>因此想看元素,要么随机先一个,要么全选</p>
<h4 id="sadd"><a href="#sadd" class="headerlink" title="sadd"></a>sadd</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sadd key value1 value2</span><br><span class="line">作用: 往集合key中增加元素</span><br></pre></td></tr></table></figure>
<h4 id="srem"><a href="#srem" class="headerlink" title="srem"></a>srem</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">srem value1 value2</span><br><span class="line">作用: 删除集合中集为 value1 value2的元素</span><br><span class="line">返回值: 忽略不存在的元素后,真正删除掉的元素的个数</span><br></pre></td></tr></table></figure>
<h4 id="spop"><a href="#spop" class="headerlink" title="spop"></a>spop</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">spop key</span><br><span class="line">作用: 返回并删除集合中key中1个随机元素</span><br></pre></td></tr></table></figure>
<h4 id="srandmember"><a href="#srandmember" class="headerlink" title="srandmember"></a>srandmember</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">srandmember key</span><br><span class="line">作用: 返回集合key中,随机的1个元素.</span><br></pre></td></tr></table></figure>
<h4 id="sismember"><a href="#sismember" class="headerlink" title="sismember"></a>sismember</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sismember key  value</span><br><span class="line">作用: 判断value是否在key集合中</span><br><span class="line">是返回1,否返回0</span><br></pre></td></tr></table></figure>
<h4 id="smembers"><a href="#smembers" class="headerlink" title="smembers"></a>smembers</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">smembers key</span><br><span class="line">作用: 返回集中中所有的元素</span><br></pre></td></tr></table></figure>
<h4 id="scard"><a href="#scard" class="headerlink" title="scard"></a>scard</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scard key</span><br><span class="line">作用: 返回集合中元素的个数</span><br></pre></td></tr></table></figure>
<h4 id="smove"><a href="#smove" class="headerlink" title="smove"></a>smove</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">smove source dest value</span><br><span class="line">作用:把source中的value删除,并添加到dest集合中</span><br></pre></td></tr></table></figure>
<h4 id="sinter"><a href="#sinter" class="headerlink" title="sinter"></a>sinter</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sinter  key1 key2 key3</span><br><span class="line">作用: 求出key1 key2 key3 三个集合中的交集,并返回</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; sadd s1 0 2 4 6</span><br><span class="line">(integer) 4</span><br><span class="line">redis 127.0.0.1:6379&gt; sadd s2 1 2 3 4</span><br><span class="line">(integer) 4</span><br><span class="line">redis 127.0.0.1:6379&gt; sadd s3 4 8 9 12</span><br><span class="line">(integer) 4</span><br><span class="line">redis 127.0.0.1:6379&gt; sinter s1 s2 s3</span><br><span class="line">1) &quot;4&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; sinter s3 s1 s2</span><br><span class="line">1)&quot;4&quot;</span><br></pre></td></tr></table></figure>
<h4 id="sinterstore"><a href="#sinterstore" class="headerlink" title="sinterstore"></a>sinterstore</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sinterstore dest key1 key2 key3</span><br><span class="line">作用: 求出key1 key2 key3 三个集合中的交集,并赋给dest</span><br></pre></td></tr></table></figure>
<h4 id="suion"><a href="#suion" class="headerlink" title="suion"></a>suion</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">suion key1 key2.. Keyn</span><br><span class="line">作用: 求出key1 key2 keyn的并集,并返回</span><br></pre></td></tr></table></figure>
<h4 id="sdiff"><a href="#sdiff" class="headerlink" title="sdiff"></a>sdiff</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sdiff key1 key2 key3 </span><br><span class="line">作用: 求出key1与key2 key3的差集</span><br><span class="line">即 key1 - key2 - key3</span><br><span class="line">即 key1 - (key2 + key3)</span><br></pre></td></tr></table></figure>
<h3 id="zset"><a href="#zset" class="headerlink" title="zset"></a>zset</h3><p>有序集合</p>
<h4 id="zadd"><a href="#zadd" class="headerlink" title="zadd"></a>zadd</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zadd key score1 value1 score2 value2 ..</span><br><span class="line">添加元素</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; zadd stu 18 lily 19 hmm 20 lilei 21 lilei</span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure>
<h4 id="zrem"><a href="#zrem" class="headerlink" title="zrem"></a>zrem</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zrem key value1 value2 ..</span><br><span class="line">作用: 删除集合中的元素</span><br></pre></td></tr></table></figure>
<h4 id="zremrangebyscore"><a href="#zremrangebyscore" class="headerlink" title="zremrangebyscore"></a>zremrangebyscore</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zremrangebyscore key min max</span><br><span class="line">作用: 按照socre来删除元素,删除score在[min,max]之间的</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; zremrangebyscore stu 4 10</span><br><span class="line">(integer) 2</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange stu 0 -1</span><br><span class="line">1) &quot;f&quot;</span><br></pre></td></tr></table></figure>
<h4 id="zremrangebyrank"><a href="#zremrangebyrank" class="headerlink" title="zremrangebyrank"></a>zremrangebyrank</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zremrangebyrank key start end</span><br><span class="line">作用: 按排名删除元素,删除名次在[start,end]之间的</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; zremrangebyrank stu 0 1</span><br><span class="line">(integer) 2</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange stu 0 -1</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;e&quot;</span><br><span class="line">3) &quot;f&quot;</span><br><span class="line">4) &quot;g&quot;</span><br></pre></td></tr></table></figure>
<h4 id="zrank"><a href="#zrank" class="headerlink" title="zrank"></a>zrank</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zrank key member</span><br><span class="line">查询member的排名(升续 0名开始)</span><br></pre></td></tr></table></figure>
<h4 id="zrevrank"><a href="#zrevrank" class="headerlink" title="zrevrank"></a>zrevrank</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zrevrank key memeber</span><br><span class="line">查询 member的排名(降续 0名开始)</span><br></pre></td></tr></table></figure>
<h4 id="zrange"><a href="#zrange" class="headerlink" title="zrange"></a>zrange</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zrange key start stop [WITHSCORES]</span><br><span class="line">把集合排序后,返回名次[start,stop]的元素</span><br><span class="line">默认是升续排列 </span><br><span class="line">Withscores 是把score也打印出来</span><br></pre></td></tr></table></figure>
<h4 id="zrevrange"><a href="#zrevrange" class="headerlink" title="zrevrange"></a>zrevrange</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zrevrange key start stop</span><br><span class="line">作用:把集合降序排列,取名字[start,stop]之间的元素</span><br></pre></td></tr></table></figure>
<h4 id="zrangebyscore"><a href="#zrangebyscore" class="headerlink" title="zrangebyscore"></a>zrangebyscore</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zrangebyscore  key min max [withscores] limit offset N</span><br><span class="line">作用: 集合(升续)排序后,取score在[min,max]内的元素,</span><br><span class="line">并跳过 offset个, 取出N个</span><br><span class="line"></span><br><span class="line">redis 127.0.0.1:6379&gt; zadd stu 1 a 3 b 4 c 9 e 12 f 15 g</span><br><span class="line">(integer) 6</span><br><span class="line">redis 127.0.0.1:6379&gt; zrangebyscore stu 3 12 limit 1 2 withscores</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;4&quot;</span><br><span class="line">3) &quot;e&quot;</span><br><span class="line">4) &quot;9&quot;</span><br></pre></td></tr></table></figure>
<h4 id="zcard"><a href="#zcard" class="headerlink" title="zcard"></a>zcard</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zcard key</span><br><span class="line">返回元素个数</span><br></pre></td></tr></table></figure>
<h4 id="zcount"><a href="#zcount" class="headerlink" title="zcount"></a>zcount</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zcount key min max</span><br><span class="line">返回[min,max] 区间内元素的数量</span><br></pre></td></tr></table></figure>
<h4 id="zinterstore"><a href="#zinterstore" class="headerlink" title="zinterstore"></a>zinterstore</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zinterstore destination numkeys key1 [key2 ...]  [WEIGHTS weight [weight ...]]  [AGGREGATE SUM|MIN|MAX]</span><br><span class="line"></span><br><span class="line">求key1,key2的交集,key1,key2的权重分别是 weight1,weight2</span><br><span class="line">聚合方法用: sum |min|max</span><br><span class="line">聚合的结果,保存在dest集合内</span><br><span class="line"></span><br><span class="line">注意: weights ,aggregate如何理解?</span><br><span class="line">答: 如果有交集, 交集元素又有socre,score怎么处理?</span><br><span class="line">Aggregate sum-&gt;score相加   , min 求最小score, max 最大score</span><br><span class="line"></span><br><span class="line">另: 可以通过weigth设置不同key的权重, 交集时,socre * weights</span><br><span class="line"></span><br><span class="line">例子:</span><br><span class="line">详见下例</span><br><span class="line">redis 127.0.0.1:6379&gt; zadd z1 2 a 3 b 4 c</span><br><span class="line">(integer) 3</span><br><span class="line">redis 127.0.0.1:6379&gt; zadd z2 2.5 a 1 b 8 d</span><br><span class="line">(integer) 3</span><br><span class="line">redis 127.0.0.1:6379&gt; zinterstore tmp 2 z1 z2</span><br><span class="line">(integer) 2</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange tmp 0 -1</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange tmp 0 -1 withscores</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;4&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line">4) &quot;4.5&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; zinterstore tmp 2 z1 z2 aggregate sum</span><br><span class="line">(integer) 2</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange tmp 0 -1 withscores</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;4&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line">4) &quot;4.5&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; zinterstore tmp 2 z1 z2 aggregate min</span><br><span class="line">(integer) 2</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange tmp 0 -1 withscores</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line">4) &quot;2&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; zinterstore tmp 2 z1 z2 weights 1 2</span><br><span class="line">(integer) 2</span><br><span class="line">redis 127.0.0.1:6379&gt; zrange tmp 0 -1 withscores</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;5&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line">4) &quot;7&quot;</span><br></pre></td></tr></table></figure>
<h3 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h3><p>哈希数据</p>
<h4 id="hset"><a href="#hset" class="headerlink" title="hset"></a>hset</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hset key field value</span><br><span class="line">作用: 把key中 filed域的值设为value</span><br><span class="line">注:如果没有field域,直接添加,如果有,则覆盖原field域的值</span><br></pre></td></tr></table></figure>
<h4 id="hmset"><a href="#hmset" class="headerlink" title="hmset"></a>hmset</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hmset key field1 value1 [field2 value2 field3 value3 ......fieldn valuen]</span><br><span class="line">作用: 设置field1-&gt;N 个域, 对应的值是value1-&gt;N</span><br></pre></td></tr></table></figure>
<h4 id="hget"><a href="#hget" class="headerlink" title="hget"></a>hget</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hget key field</span><br><span class="line">作用: 返回key中field域的值</span><br></pre></td></tr></table></figure>
<h4 id="hmget"><a href="#hmget" class="headerlink" title="hmget"></a>hmget</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hmget key field1 field2 fieldN</span><br><span class="line">作用: 返回key中field1 field2 fieldN域的值</span><br></pre></td></tr></table></figure>
<h4 id="hgetall"><a href="#hgetall" class="headerlink" title="hgetall"></a>hgetall</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hgetall key</span><br><span class="line">作用:返回key中,所有域与其值</span><br></pre></td></tr></table></figure>
<h4 id="hdel"><a href="#hdel" class="headerlink" title="hdel"></a>hdel</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hdel key field</span><br><span class="line">作用: 删除key中 field域</span><br></pre></td></tr></table></figure>
<h4 id="hlen"><a href="#hlen" class="headerlink" title="hlen"></a>hlen</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hlen key</span><br><span class="line">作用: 返回key中元素的数量</span><br></pre></td></tr></table></figure>
<h4 id="hexists"><a href="#hexists" class="headerlink" title="hexists"></a>hexists</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexists key field</span><br><span class="line">作用: 判断key中有没有field域</span><br></pre></td></tr></table></figure>
<h4 id="hinrby"><a href="#hinrby" class="headerlink" title="hinrby"></a>hinrby</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hinrby key field value</span><br><span class="line">作用: 是把key中的field域的值增长整型值value</span><br></pre></td></tr></table></figure>
<h4 id="hinrby-1"><a href="#hinrby-1" class="headerlink" title="hinrby"></a>hinrby</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hinrby float  key field value</span><br><span class="line">作用: 是把key中的field域的值增长浮点值value</span><br></pre></td></tr></table></figure>
<h4 id="hkeys"><a href="#hkeys" class="headerlink" title="hkeys"></a>hkeys</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hkeys key</span><br><span class="line">作用: 返回key中所有的field</span><br></pre></td></tr></table></figure>
<h4 id="kvals"><a href="#kvals" class="headerlink" title="kvals"></a>kvals</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kvals key</span><br><span class="line">作用: 返回key中所有的value</span><br></pre></td></tr></table></figure>
<h3 id="其他重要"><a href="#其他重要" class="headerlink" title="其他重要"></a>其他重要</h3><h4 id="rpoplpush-场景-task-bak-双链表完成安全队列"><a href="#rpoplpush-场景-task-bak-双链表完成安全队列" class="headerlink" title="rpoplpush 场景: task + bak 双链表完成安全队列"></a>rpoplpush 场景: task + bak 双链表完成安全队列</h4><p>Task列表               </p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>b</td>
<td>c</td>
</tr>
</tbody>
</table>
<p>bak列表</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>业务逻辑:</p>
<ol>
<li><p>Rpoplpush task bak</p>
</li>
<li><p>接收返回值,并做业务处理</p>
</li>
<li><p>如果成功,rpop bak 清除任务. 如不成功,下次从bak表里取任务</p>
</li>
</ol>
<h4 id="Redis中的事务"><a href="#Redis中的事务" class="headerlink" title="Redis中的事务"></a>Redis中的事务</h4><p>Redis支持简单的事务</p>
<p><strong>Redis与 mysql事务的对比</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>Mysql</th>
<th>Redis</th>
</tr>
</thead>
<tbody>
<tr>
<td>开启</td>
<td>start transaction</td>
<td>muitl</td>
</tr>
<tr>
<td>语句</td>
<td>普通sql</td>
<td>普通命令</td>
</tr>
<tr>
<td>失败</td>
<td>rollback 回滚</td>
<td>discard 取消</td>
</tr>
<tr>
<td>成功</td>
<td>commit</td>
<td>exec</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注: rollback与discard 的区别</p>
<p>如果已经成功执行了2条语句, 第3条语句出错.</p>
<p>Rollback后,前2条的语句影响消失.</p>
<p>Discard只是结束本次事务,前2条语句造成的影响仍然还在</p>
</blockquote>
<p><strong>例子:</strong></p>
<p>我正在买票</p>
<p>Ticket -1 , money -100</p>
<p>而票只有1张, 如果在我multi之后,和exec之前, 票被别人买了—即ticket变成0了.</p>
<p>我该如何观察这种情景,并不再提交</p>
<p>悲观的想法: </p>
<p>世界充满危险,肯定有人和我抢, 给 ticket上锁, 只有我能操作. [悲观锁]</p>
<p>乐观的想法:</p>
<p>没有那么人和我抢,因此,我只需要注意,</p>
<p>–有没有人更改ticket的值就可以了 [乐观锁]</p>
<p><strong>Redis的事务中,启用的是乐观锁,只负责监测key没有被改动.</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">具体的命令</span><br><span class="line"></span><br><span class="line">watch</span><br><span class="line">watch key1 key2  ... keyN</span><br><span class="line">作用:监听key1 key2..keyN有没有变化,如果有变, 则事务取消</span><br><span class="line"></span><br><span class="line">unwatch</span><br><span class="line">unwatch key</span><br><span class="line">作用: 取消所有watch监听</span><br><span class="line"></span><br><span class="line">例: </span><br><span class="line">redis 127.0.0.1:6379&gt; watch ticket</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; decr ticket</span><br><span class="line">QUEUED</span><br><span class="line">redis 127.0.0.1:6379&gt; decrby money 100</span><br><span class="line">QUEUED</span><br><span class="line">redis 127.0.0.1:6379&gt; exec</span><br><span class="line">(nil)   // 返回nil,说明监视的ticket已经改变了,事务就取消了.</span><br><span class="line">redis 127.0.0.1:6379&gt; get ticket</span><br><span class="line">&quot;0&quot;</span><br><span class="line">redis 127.0.0.1:6379&gt; get money</span><br><span class="line">&quot;200&quot;</span><br></pre></td></tr></table></figure>
<h4 id="Redis消息订阅"><a href="#Redis消息订阅" class="headerlink" title="Redis消息订阅"></a>Redis消息订阅</h4><p>使用办法:</p>
<p>订阅端: Subscribe 频道名称</p>
<p>发布端: publish 频道名称 发布内容</p>
<p><strong>例子</strong></p>
<p>客户端</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; subscribe news</span><br><span class="line">Reading messages... (press Ctrl-C to quit)</span><br><span class="line">1) &quot;subscribe&quot;</span><br><span class="line">2) &quot;news&quot;</span><br><span class="line">3) (integer) 1</span><br><span class="line">1) &quot;message&quot;</span><br><span class="line">2) &quot;news&quot;</span><br><span class="line">3) &quot;good good study&quot;</span><br><span class="line">1) &quot;message&quot;</span><br><span class="line">2) &quot;news&quot;</span><br><span class="line">3) &quot;day day up&quot;</span><br></pre></td></tr></table></figure>
<p>服务器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; publish news &apos;good good study&apos;</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; publish news &apos;day day up&apos;</span><br><span class="line">(integer) 1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>订阅后只发一次 不能保证网络波动导致的信息丢失 别用了 了解就好</p>
</blockquote>
<h4 id="Redis服务器端命令"><a href="#Redis服务器端命令" class="headerlink" title="Redis服务器端命令"></a>Redis服务器端命令</h4><h5 id="time"><a href="#time" class="headerlink" title="time"></a>time</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">显示服务器时间 , 时间戳(秒), 微秒数</span><br><span class="line">127.0.0.1:6379&gt; time</span><br><span class="line">1) &quot;1614238268&quot;</span><br><span class="line">2) &quot;900549&quot;</span><br></pre></td></tr></table></figure>
<h5 id="dbsize"><a href="#dbsize" class="headerlink" title="dbsize"></a>dbsize</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">当前数据库的key的数量</span><br><span class="line">127.0.0.1:6379&gt; dbsize</span><br><span class="line">(integer) 9</span><br><span class="line">127.0.0.1:6379&gt; select 2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[2]&gt; dbsize</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>
<h5 id="BGREWRITEAOF"><a href="#BGREWRITEAOF" class="headerlink" title="BGREWRITEAOF"></a>BGREWRITEAOF</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">后台进程重写AOF</span><br></pre></td></tr></table></figure>
<h5 id="BGSAVE"><a href="#BGSAVE" class="headerlink" title="BGSAVE"></a>BGSAVE</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">后台保存rdb快照</span><br></pre></td></tr></table></figure>
<h5 id="SAVE"><a href="#SAVE" class="headerlink" title="SAVE"></a>SAVE</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">保存rdb快照</span><br></pre></td></tr></table></figure>
<h5 id="LASTSAVE"><a href="#LASTSAVE" class="headerlink" title="LASTSAVE"></a>LASTSAVE</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">上次保存时间</span><br></pre></td></tr></table></figure>
<h5 id="Slaveof-master-Host-port"><a href="#Slaveof-master-Host-port" class="headerlink" title="Slaveof master-Host port"></a>Slaveof master-Host port</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">把当前实例设为master的slave</span><br></pre></td></tr></table></figure>
<h5 id="Flushall"><a href="#Flushall" class="headerlink" title="Flushall"></a>Flushall</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">清空所有库所有键</span><br></pre></td></tr></table></figure>
<h5 id="Flushdb"><a href="#Flushdb" class="headerlink" title="Flushdb"></a>Flushdb</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">清空当前库所有键</span><br></pre></td></tr></table></figure>
<h5 id="Showdown"><a href="#Showdown" class="headerlink" title="Showdown"></a>Showdown</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Showdown [save/nosave]</span><br><span class="line"></span><br><span class="line">注: 如果不小心运行了flushall, 立即 shutdown nosave ,关闭服务器</span><br><span class="line">然后 手工编辑aof文件, 去掉文件中的 “flushall ”相关行, 然后开启服务器,就可以导入回原来数据.</span><br><span class="line">如果,flushall之后,系统恰好bgrewriteaof了,那么aof就清空了,数据丢失.</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">杨振宇</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.yangzhenyu.com.cn/41316/">https://www.yangzhenyu.com.cn/41316/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.yangzhenyu.com.cn">杨振宇'Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/分布式/">分布式</a><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/redis/">redis</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://raw.githubusercontent.com/yttrium2016/img/master/20190222151401.png"><div class="post-qr-code__desc">支付宝打赏</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://raw.githubusercontent.com/yttrium2016/img/master/20190222151504.png"><div class="post-qr-code__desc">微信打赏</div></div></div><div class="social-share pull-right"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/4969/"><i class="fa fa-chevron-left">  </i><span>Java中Reids事例</span></a></div><div class="next-post pull-right"><a href="/11214/"><span>Linux搭建Reids环境</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '34b21ee58acdcdea4814',
  clientSecret: 'edcdb38266a1aac9885209a7f34bad5c4ea06c0a',
  repo: 'yttrium2016.github.io',
  owner: 'yttrium2016',
  admin: 'yttrium2016',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2022 By 杨振宇</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="icp"><a href="https://beian.miit.gov.cn"><span>浙ICP备16002000号-3</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>